# ==================================================
# FEATURE SPEC — MULTI-TIMEFRAME CONFLUENCE
# ==================================================
feature_id: "F011"
name: "MTF Confluence Engine"
version: "1.0"
objective: >
  Boost reliability by confirming a pattern across adjacent timeframes (e.g., 5m↔15m↔1h).
scope:
  - Capture adjacent TF screenshots via quick toggle or user macro.
  - Normalize scale; compute structural similarity and pattern id match.
  - Output a confluence score 0..1 and note agreeing timeframes.
confluence_formula: "weighted mean of {pattern_conf, structural_similarity, timeframe_weight}"
architecture:
  modules:
    - analysis/ConfluenceEngine.kt
    - overlay/MTFToggleHUD.kt
ui:
  - Tiny badges under label: e.g., “15m✓ 1h✓”
testing:
  - Determinism test with fixed tri-TF image set.
status: "Planned / Approved"
