# ==================================================
# GAP SPEC — LICENSE HARDENING (DEVICE + ACCOUNT BIND)
# ==================================================
feature_id: "G001"
name: "License Hardening and Token Binding"
author: "Jesse J. Lamont"
created: "2025-10-24"
objective: >
  Harden Pro license validation to prevent cloning, clock tampering, or APK sharing.

scope:
  - License token bound to device_id + Play account id.
  - Token signed with Ed25519 and validated offline.
  - License check interval: daily (local) / weekly (opt-in sync).
  - Clock skew detection: reject > ±24h offset.

architecture:
  components:
    - LicenseVerifier.kt
    - TokenSigner.kt
    - TimeSkewGuard.kt
  data_flow: "BillingClient → LicenseVerifier → local cache → overlay unlock"

security:
  data_stored: "license_pro.json (encrypted)"
  network_access: "billing library only"
  tamper_detection: true

testing:
  - Mock device id mismatch → license invalid.
  - Clock skew ±48h → blocked.
  - Signature corruption → reject license.

status: "Planned / Approved"
